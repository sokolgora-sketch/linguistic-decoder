{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/Candidates.tsx"],"sourcesContent":["\n'use client';\nimport type { LanguageFamily } from \"@/shared/engineShape\";\nimport { Card } from \"@/components/ui/card\";\n\nexport function Candidates({ items }: { items?: LanguageFamily[] }) {\n  if (!items || items.length === 0) return null;\n\n  // Filter out families with a confidence of 0\n  const visibleFamilies = items.filter(f => (f.confidence || 0) > 0);\n  if (visibleFamilies.length === 0) return null;\n\n  // A simple way to get dialect from rationale if it exists.\n  const getDialect = (family: LanguageFamily) => {\n    // The new detector doesn't put dialect in rationale, so we check familyId\n    if (family.familyId !== 'albanian') return null;\n\n    // Check for the dialect property directly on the family object\n    if ((family as any).dialect) return (family as any).dialect;\n    \n    // Heuristic: if rationale contains Gegë/Tosk cues, use them.\n    // This part is less critical now that the main detector is better.\n    const r = family.rationale?.toLowerCase() || \"\";\n    if (r.includes('geg')) return 'geg';\n    if (r.includes('tosk')) return 'tosk';\n    \n    // Fallback for older data or different rationale formats\n    const match = r.match(/dialect: (geg|tosk)/);\n    return match?.[1];\n  };\n\n  return (\n    <div className=\"mt-3\">\n      <h3 className=\"font-bold text-sm tracking-wide mb-2\">Language Family Candidates</h3>\n      <div className=\"space-y-2\">\n        {visibleFamilies.map((f, i) => {\n          const dialect = getDialect(f) || f.dialect;\n          return (\n            <Card key={f.familyId || i} className=\"p-2.5 text-sm border-primary/50\">\n               <div className=\"flex items-center gap-2\">\n                  <div className=\"min-w-[180px] font-semibold\">\n                    {f.label}\n                    {f.label === \"Albanian\" && dialect && (\n                      <span className=\"ml-2 text-xs px-2 py-0.5 rounded-full bg-accent/20 text-accent-foreground font-medium\">\n                        {dialect === \"geg\" ? \"Gegë\" : \"Tosk\"}\n                      </span>\n                    )}\n                  </div>\n                  <div className=\"font-bold text-lg text-primary\">{((f.confidence || 0) * 100).toFixed(0)}%</div>\n               </div>\n\n              {f.signals && f.signals.length > 0 && (\n                <div className=\"text-xs opacity-80 mt-1.5 pt-1.5 border-t\">\n                  {f.signals.slice(0, 3).join(\" · \")}\n                </div>\n              )}\n            </Card>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;AACA;;;AAIO,SAAS,WAAW,EAAE,KAAK,EAAgC;IAChE,IAAI,CAAC,SAAS,MAAM,MAAM,KAAK,GAAG,OAAO;IAEzC,6CAA6C;IAC7C,MAAM,kBAAkB,MAAM,MAAM,CAAC,CAAA,IAAK,CAAC,EAAE,UAAU,IAAI,CAAC,IAAI;IAChE,IAAI,gBAAgB,MAAM,KAAK,GAAG,OAAO;IAEzC,2DAA2D;IAC3D,MAAM,aAAa,CAAC;QAClB,0EAA0E;QAC1E,IAAI,OAAO,QAAQ,KAAK,YAAY,OAAO;QAE3C,+DAA+D;QAC/D,IAAI,AAAC,OAAe,OAAO,EAAE,OAAO,AAAC,OAAe,OAAO;QAE3D,6DAA6D;QAC7D,mEAAmE;QACnE,MAAM,IAAI,OAAO,SAAS,EAAE,iBAAiB;QAC7C,IAAI,EAAE,QAAQ,CAAC,QAAQ,OAAO;QAC9B,IAAI,EAAE,QAAQ,CAAC,SAAS,OAAO;QAE/B,yDAAyD;QACzD,MAAM,QAAQ,EAAE,KAAK,CAAC;QACtB,OAAO,OAAO,CAAC,EAAE;IACnB;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAuC;;;;;;0BACrD,8OAAC;gBAAI,WAAU;0BACZ,gBAAgB,GAAG,CAAC,CAAC,GAAG;oBACvB,MAAM,UAAU,WAAW,MAAM,EAAE,OAAO;oBAC1C,qBACE,8OAAC;wBAA2B,WAAU;;0CACnC,8OAAC;gCAAI,WAAU;;kDACZ,8OAAC;wCAAI,WAAU;;4CACZ,EAAE,KAAK;4CACP,EAAE,KAAK,KAAK,cAAc,yBACzB,8OAAC;gDAAK,WAAU;0DACb,YAAY,QAAQ,SAAS;;;;;;;;;;;;kDAIpC,8OAAC;wCAAI,WAAU;;4CAAkC,CAAC,CAAC,EAAE,UAAU,IAAI,CAAC,IAAI,GAAG,EAAE,OAAO,CAAC;4CAAG;;;;;;;;;;;;;4BAG3F,EAAE,OAAO,IAAI,EAAE,OAAO,CAAC,MAAM,GAAG,mBAC/B,8OAAC;gCAAI,WAAU;0CACZ,EAAE,OAAO,CAAC,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC;;;;;;;uBAfvB,EAAE,QAAQ,IAAI;;;;;gBAoB7B;;;;;;;;;;;;AAIR","debugId":null}},
    {"offset": {"line": 272, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/page.tsx"],"sourcesContent":["\n'use client';\n\nimport React, { useState, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Accordion, AccordionContent, AccordionItem, AccordionTrigger } from \"@/components/ui/accordion\";\nimport { Candidates } from \"../components/Candidates\";\nimport { ResultsDisplay, PrinciplesBlock } from \"@/components/ResultsDisplay\";\nimport { ConsonantReference } from \"@/components/ConsonantReference\";\nimport { TwoRailsWithConsonants } from \"@/components/TwoRailsWithConsonants\";\nimport { analyzeClient } from \"@/lib/analyzeClient\";\nimport type { Alphabet } from \"@/lib/runAnalysis\";\nimport { PROFILES } from \"@/functions/languages\";\nimport { ThemeToggle } from \"@/components/ThemeProvider\";\nimport { useDebounced } from \"@/hooks/useDebounced\";\nimport { Loader } from \"lucide-react\";\nimport ComparePanel from \"@/components/ComparePanel\";\nimport { normalizeEnginePayload, type EnginePayload, type Vowel } from \"@/shared/engineShape\";\nimport HistoryPanel from \"@/components/HistoryPanel\";\nimport { doc, getDoc } from \"firebase/firestore\";\nimport { db } from \"@/lib/firebase\";\nimport FooterBuild from \"@/components/FooterBuild\";\nimport { allowAnalyze } from \"@/lib/throttle\";\nimport WhyThisPath from \"@/components/WhyThisPath\";\nimport { ExportJsonButton } from \"@/components/ExportJsonButton\";\nimport { logError } from \"@/lib/logError\";\n\nlet EvalPanelComp: React.ComponentType | null = null;\nif (process.env.NEXT_PUBLIC_DEV_EVAL === \"1\") {\n  EvalPanelComp = require(\"@/components/EvalPanel\").default;\n}\n\n\n// ==== Main App ===============================================================\nexport default function LinguisticDecoderApp(){\n  const { toast } = useToast();\n  const [word, setWord] = useState(\"study\");\n  const [mode, setMode] = useState<\"strict\"|\"open\">(\"strict\");\n  const [alphabet, setAlphabet] = useState<Alphabet>(\"auto\");\n  const [edgeWeight, setEdgeWeight] = useState(0.25);\n  const [data, setData] = useState<EnginePayload | null>(null);\n  const [err, setErr] = useState<string | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [isWarming, setIsWarming] = useState(false);\n  const [showDebug, setShowDebug] = useState(false);\n  const [useAi, setUseAi] = useState(false);\n\n  // Debounce user input, then warm the cache in the background\n  const debouncedWord = useDebounced(word, 450);\n  useEffect(() => {\n    // This is a pre-fetch, so we don't handle errors here.\n    // analyzeClient is designed to be robust.\n    if (debouncedWord.trim()) {\n      analyzeClient(debouncedWord.trim(), mode, alphabet, { edgeWeight, useAi }).catch(() => {/* prefetch failed, do nothing */});\n    }\n  }, [debouncedWord, mode, alphabet, edgeWeight, useAi]);\n  \n\n  const canAnalyze = word.trim().length > 0 && !loading;\n\n  async function analyze(nextWord?: string, nextMode?: \"strict\"|\"open\", nextAlphabet?: Alphabet){\n    if (!allowAnalyze()) { \n      toast({ variant: \"destructive\", title: \"Too many requests\", description: \"Please try again in a few moments.\" }); \n      return; \n    }\n    const useWord = (nextWord ?? word).trim();\n    const useMode: \"strict\"|\"open\" = nextMode ?? mode;\n    const useAlphabet = nextAlphabet ?? alphabet;\n    if (!useWord) return;\n\n    setLoading(true);\n    setErr(null);\n    setData(null);\n    try {\n      // 1. Get raw result from API or cache\n      const clientResponse = await analyzeClient(useWord, useMode, useAlphabet, { edgeWeight, useAi });\n      console.log(\"API result:\", clientResponse);\n\n      // 2. GUARANTEE the shape\n      const normalizedPayload = normalizeEnginePayload(clientResponse);\n      console.debug(\"Primary Path object:\", normalizedPayload.primaryPath);\n      \n      // 4. Set state with the clean, final payload\n      setData(normalizedPayload);\n\n    } catch (e: any) {\n      const error = e?.message || \"Request failed\";\n      logError({ where: \"analyze\", message: error, detail: { word: useWord, stack: e.stack } });\n      console.error(\"Analysis chain failed:\", e);\n      setErr(error);\n      setData(null);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  function runSmokeTest() {\n    const mock: any = {\n        engineVersion: \"mock-v1\",\n        word: \"smoke-test\",\n        mode: \"strict\",\n        alphabet: \"auto\",\n        primaryPath: { voicePath: [\"U\",\"I\"], ringPath: [1,1], levelPath: [-1,1], ops: [\"test-op\"], kept: 2, checksums: {V:55, E:0, C:2} },\n        frontierPaths: [\n            { voicePath: [\"A\",\"E\"], ringPath: [3,2], levelPath: [1,1], ops: [], checksums: {V:6, E:1, C:1}, kept: 0 },\n        ],\n        windows: [\"d\"],\n        windowClasses: [\"Plosive\"],\n        signals: [\"smoke-test-signal\"],\n        solveMs: 1,\n        languageFamilies: [],\n    };\n    try {\n        const normalized = normalizeEnginePayload(mock);\n        setData(normalized);\n        setErr(null);\n        toast({ title: \"Smoke Test\", description: \"Displaying mock data for 'study'.\" });\n    } catch(e:any){\n        setErr(`Smoke test failed: ${e.message}`);\n        setData(null);\n    }\n  }\n\n\n  useEffect(() => {\n    const p = new URLSearchParams(window.location.search);\n    const w = p.get(\"word\"); \n    const m = p.get(\"mode\") as \"strict\"|\"open\" | null; \n    const a = p.get(\"alphabet\") as Alphabet | null;\n    if (w) { \n      const currentWord = w;\n      const currentMode = m || 'strict';\n      const currentAlphabet = a || 'auto';\n      setWord(currentWord); \n      setMode(currentMode); \n      setAlphabet(currentAlphabet); \n      analyze(currentWord, currentMode, currentAlphabet); \n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  async function onLoadAnalysis(cacheId: string) {\n    if (!db) {\n        toast({ variant: \"destructive\", title: \"Database Error\", description: \"Firestore is not available.\" });\n        return;\n    }\n    setLoading(true);\n    setErr(null);\n    setData(null);\n    try {\n      const cacheRef = doc(db, \"analyses\", cacheId);\n      const snap = await getDoc(cacheRef);\n      if (snap.exists()) {\n          const normalized = normalizeEnginePayload(snap.data());\n          setData({ ...normalized, cacheHit: true, recomputed: false });\n          toast({ title: \"Loaded from Cache\", description: `Analysis for '${normalized.word}' loaded.` });\n      } else {\n          toast({ variant: \"destructive\", title: \"Not Found\", description: \"Could not find that analysis in the cache.\" });\n      }\n    } catch (e: any) {\n        logError({where: \"history-load\", message: e.message, detail: {cacheId}});\n        toast({ variant: \"destructive\", title: \"Load Error\", description: e.message || \"Failed to load analysis.\" });\n        setErr(e.message);\n    } finally {\n        setLoading(false);\n    }\n  }\n\n  async function onRecompute(word: string, m?: string, a?: string) {\n      setLoading(true);\n      setData(null);\n      setErr(null);\n      try {\n          const result = await analyzeClient(word, (m as any) || mode, (a as any) || alphabet, {\n            bypass: true,\n            skipWrite: false,\n            edgeWeight,\n            useAi\n          });\n          setData(result);\n          toast({ title: \"Recomputed\", description: `Fresh analysis for '${result.word}' complete.` });\n      } catch (e: any) {\n          logError({where: \"history-recompute\", message: e.message, detail: {word}});\n          toast({ variant: \"destructive\", title: \"Recompute Error\", description: e.message || \"Failed to recompute analysis.\" });\n          setErr(e.message);\n      } finally {\n          setLoading(false);\n      }\n  }\n\n  const signals = data?.signals?.join(\" · \") || \"\";\n  \n  return (\n    <div className=\"p-4 lg:p-8 max-w-4xl mx-auto\">\n       <main className=\"space-y-4\">\n        {/* Header */}\n        <header className=\"p-6 border-b-4 border-primary bg-background -mx-6 -mt-8\">\n          <div className=\"max-w-5xl mx-auto flex justify-between items-center\">\n            <div>\n              <h1 className=\"font-headline text-3xl font-bold tracking-wide text-primary\">Linguistic Decoder</h1>\n              <p className=\"text-sm text-muted-foreground mt-1\">Seven‑Voices matrix solver · primary & frontier paths · optional Gemini mapping</p>\n            </div>\n            <div className=\"flex items-center gap-4\">\n              <ThemeToggle />\n            </div>\n          </div>\n        </header>\n\n        {/* Controls */}\n        <Card className=\"p-4\">\n          <div className=\"grid grid-cols-[1fr_auto_auto_auto_auto_auto] gap-2.5 items-center\">\n            <Input\n              value={word}\n              onChange={e=> setWord(e.target.value)}\n              placeholder=\"Type a word…\"\n              className=\"font-semibold\"\n              onKeyUp={(e) => e.key === 'Enter' && canAnalyze && analyze()}\n            />\n            {isWarming && <Loader className=\"animate-spin text-muted-foreground\" size={18} />}\n            <label className=\"flex items-center gap-2 text-sm\">\n              <input type=\"checkbox\" checked={mode===\"strict\"} onChange={e=> setMode(e.target.checked?\"strict\":\"open\")} className=\"w-4 h-4 rounded text-primary focus:ring-primary\" />\n              Strict\n            </label>\n            <Select value={alphabet} onValueChange={(v) => setAlphabet(v as Alphabet)}>\n                <SelectTrigger className=\"w-[180px]\">\n                    <SelectValue placeholder=\"Language\" />\n                </SelectTrigger>\n                <SelectContent>\n                    <SelectItem value=\"auto\">Auto-Detect</SelectItem>\n                    {PROFILES.map(p => (\n                        <SelectItem key={p.id} value={p.id}>{p.id.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase())}</SelectItem>\n                    ))}\n                </SelectContent>\n            </Select>\n            <Button onClick={()=> analyze()} disabled={!canAnalyze}>\n              {loading ? \"Analyzing…\" : \"Analyze\"}\n            </Button>\n            <Button onClick={runSmokeTest} variant=\"outline\" title=\"Display a mock result to test the UI\">Smoke Test</Button>\n          </div>\n          <div className=\"flex items-center gap-4 mt-3\">\n              <label className=\"text-xs text-muted-foreground\">Edge weight: {edgeWeight.toFixed(2)}</label>\n              <input\n                type=\"range\" min={0} max={0.6} step={0.05}\n                value={edgeWeight} onChange={e=>setEdgeWeight(Number(e.target.value))}\n                className=\"w-32\"\n              />\n              <label className=\"flex items-center gap-2 text-sm ml-4\">\n                  <input type=\"checkbox\" checked={useAi} onChange={e=> setUseAi(e.target.checked)} className=\"w-4 h-4 rounded text-primary focus:ring-primary\" />\n                  Use AI Mapper\n              </label>\n          </div>\n          {err && (\n            <div className=\"mt-2.5 border border-red-300 bg-red-50 text-red-800 text-sm p-2 rounded\">\n              <b>Error:</b> {err}\n            </div>\n          )}\n           {data?.cacheHit && <div className=\"mt-2.5 text-sm font-semibold text-accent-foreground\">Result loaded from cache.</div>}\n        </Card>\n\n        {/* Visualization & Results */}\n        <TwoRailsWithConsonants\n          word={data?.word || word}\n          path={(data?.primaryPath?.voicePath as Vowel[]) || []}\n          running={loading}\n          playKey={`${data?.word}|${(data?.primaryPath?.voicePath || []).join(\"\")}`}\n          height={320}\n          durationPerHopMs={900}\n        />\n        \n        {data ? (\n          <>\n            <ResultsDisplay analysis={data} />\n            <div className=\"flex justify-end pt-2\">\n              <ExportJsonButton analysis={data} />\n            </div>\n            <WhyThisPath primary={data.primaryPath} />\n            <PrinciplesBlock engine={data} />\n            <Candidates items={data.languageFamilies} />\n          </>\n        ) : null}\n\n        <Accordion type=\"single\" collapsible className=\"w-full\" defaultValue={data ? \"\" : \"item-1\"}>\n          {!data && (\n            <AccordionItem value=\"item-1\">\n              <AccordionTrigger>How to Use</AccordionTrigger>\n              <AccordionContent>\n                <Card className=\"p-5\">\n                  <ol className=\"list-decimal pl-5 mt-2 space-y-2 text-sm\">\n                    <li>Type a word and click <kbd className=\"bg-primary text-primary-foreground rounded-md px-2 py-1 text-xs font-semibold\">Analyze</kbd>.</li>\n                    <li>Use the dropdown to force a specific phonetic profile, or leave on \"Auto-Detect\".</li>\n                    <li>Primary block shows Voice / Level / Ring paths and checksums <span className=\"font-code\">V/E/C</span>.</li>\n                    <li>Frontier lists near‑optimal alternates (deterministic order).</li>\n                    <li>If mapping is enabled server‑side, language candidates appear below.</li>\n                  </ol>\n                </Card>\n              </AccordionContent>\n            </AccordionItem>\n          )}\n          <AccordionItem value=\"item-2\">\n            <AccordionTrigger>Compare Two Words</AccordionTrigger>\n            <AccordionContent>\n              <ComparePanel defaultMode={mode} defaultAlphabet={alphabet} />\n            </AccordionContent>\n          </AccordionItem>\n          <AccordionItem value=\"item-3\">\n            <AccordionTrigger>Consonant Reference</AccordionTrigger>\n            <AccordionContent>\n              <ConsonantReference />\n            </AccordionContent>\n          </AccordionItem>\n          <AccordionItem value=\"item-4\">\n            <AccordionTrigger>History</AccordionTrigger>\n            <AccordionContent>\n                <HistoryPanel onLoadAnalysis={onLoadAnalysis} onRecompute={onRecompute} />\n            </AccordionContent>\n          </AccordionItem>\n          {EvalPanelComp && (\n            <AccordionItem value=\"item-5\">\n              <AccordionTrigger>Batch Evaluation</AccordionTrigger>\n              <AccordionContent>\n                  <EvalPanelComp />\n              </AccordionContent>\n            </AccordionItem>\n          )}\n        </Accordion>\n\n        {/* Debug view */}\n        {showDebug && data && (\n          <div className=\"my-4\">\n              <Card className=\"p-4\">\n                  <div className=\"flex justify-between items-center mb-2\">\n                    <h3 className=\"font-bold text-sm tracking-wide\">API Echo (debug)</h3>\n                  </div>\n                  <pre className=\"font-code text-xs whitespace-pre-wrap bg-slate-50 dark:bg-slate-800 p-2.5 rounded-lg max-h-96 overflow-auto mt-2\">\n                      {JSON.stringify(data, null, 2)}\n                  </pre>\n              </Card>\n          </div>\n        )}\n      </main>\n\n      {/* Footer */}\n      <footer className=\"p-6 opacity-80\">\n        <div className=\"max-w-7xl mx-auto text-xs text-slate-500 flex justify-between items-start\">\n          <div className=\"font-code flex-1\">\n            {data && (\n              <div className=\"text-xs opacity-80 pt-2\">\n                <b>Diagnostics:</b>\n                <span className=\"ml-2\">engine={data.engineVersion}</span>\n                <span className=\"ml-2\">mode={data.mode}</span>\n                <span className=\"ml-2\">alphabet={data.alphabet}</span>\n                {\"solveMs\" in data && <span className=\"ml-2\">solveMs={data.solveMs}</span>}\n                {data?.cacheHit && <span className=\"ml-2 px-1.5 py-0.5 rounded bg-accent/20 border border-accent text-accent-foreground\">cacheHit</span>}\n                {data?.recomputed && <span className=\"ml-2 px-1.5 py-0.5 rounded bg-blue-100 dark:bg-blue-900 border border-blue-300 dark:border-blue-700\">recomputed</span>}\n                <div className=\"mt-1\">{signals}</div>\n              </div>\n            )}\n          </div>\n          <div className=\"flex items-center gap-4\">\n            {data && (\n              <Link\n                className=\"underline text-xs\"\n                href={`/?word=${encodeURIComponent(word)}&mode=${mode}&alphabet=${alphabet}`}\n              >\n                Share this result\n              </Link>\n            )}\n            <Button variant=\"outline\" size=\"sm\" onClick={() => setShowDebug(s => !s)}>\n              {showDebug ? \"Hide\" : \"Show\"} Debug\n            </Button>\n          </div>\n        </div>\n        <FooterBuild />\n      </footer>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}